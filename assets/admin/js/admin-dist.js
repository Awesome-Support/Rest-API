!function(a,b){var c=a("#wpas-api-section"),d=c.find(".create-wpas-api-password"),e=d.find(".input"),f=d.find(".button"),g=c.find(".wpas-api-list-table-wrapper"),h=c.find("tbody"),i=h.find(".no-items"),j=a("#revoke-all-wpas-api-passwords"),k=wp.template("new-wpas-api-password"),l=wp.template("wpas-api-password-row"),m=wp.template("wpas-api-password-notice"),n=Math.random().toString(36).replace(/[^a-z]+/g,""),o=Math.random().toString(36).replace(/[^a-z]+/g,"");a.ajax({url:b.root+b.namespace+"/test-basic-authorization-header",method:"POST",beforeSend:function(a){a.setRequestHeader("Authorization","Basic "+btoa(n+":"+o))},error:function(a){404===a.status&&d.before(m({type:"error",message:b.text.no_credentials}))}}).done(function(a){a.PHP_AUTH_USER===n&&a.PHP_AUTH_PW===o||d.before(m({type:"error",message:b.text.no_credentials}))}),f.click(function(c){c.preventDefault();var j=e.val();if(0===j.length)return void e.focus();e.prop("disabled",!0),f.prop("disabled",!0),a.ajax({url:b.root+b.namespace+"/users/"+b.user_id+"/passwords",method:"POST",beforeSend:function(a){a.setRequestHeader("X-WP-Nonce",b.nonce)},data:{name:j}}).done(function(a){e.prop("disabled",!1).val(""),f.prop("disabled",!1),d.after(k({name:j,password:a.password})),delete a.password,h.prepend(l(a)),g.show(),i.remove()})}),h.on("click",".delete",function(c){c.preventDefault();var d=a(c.target).closest("tr"),e=d.data("slug");a.ajax({url:b.root+b.namespace+"/users/"+b.user_id+"/passwords/"+e,method:"DELETE",beforeSend:function(a){a.setRequestHeader("X-WP-Nonce",b.nonce)}}).done(function(a){a.deleted&&(0===d.siblings().length&&g.hide(),d.remove())})}),j.on("click",function(d){d.preventDefault(),a.ajax({url:b.root+b.namespace+"/users/"+b.user_id+"/passwords",method:"DELETE",beforeSend:function(a){a.setRequestHeader("X-WP-Nonce",b.nonce)}}).done(function(a){a.deleted&&(h.children().remove(),c.children(".new-wpas-api-password").remove(),g.hide())})}),a(document).on("click",".wpas-api-password-modal-dismiss",function(b){b.preventDefault(),a(".new-wpas-api-password.notification-dialog-wrap").hide()}),0===h.children("tr").not(i).length&&g.hide()}(jQuery,wpasAPI),function(a,b){var c=a("#wpas-api-section"),d=c.find(".create-wpas-api-password"),e=d.find(".input"),f=d.find(".button"),g=c.find(".wpas-api-list-table-wrapper"),h=c.find("tbody"),i=h.find(".no-items"),j=a("#revoke-all-wpas-api-passwords"),k=wp.template("new-wpas-api-password"),l=wp.template("wpas-api-password-row"),m=wp.template("wpas-api-password-notice"),n=Math.random().toString(36).replace(/[^a-z]+/g,""),o=Math.random().toString(36).replace(/[^a-z]+/g,"");a.ajax({url:b.root+b.namespace+"/test-basic-authorization-header",method:"POST",beforeSend:function(a){a.setRequestHeader("Authorization","Basic "+btoa(n+":"+o))},error:function(a){404===a.status&&d.before(m({type:"error",message:b.text.no_credentials}))}}).done(function(a){a.PHP_AUTH_USER===n&&a.PHP_AUTH_PW===o||d.before(m({type:"error",message:b.text.no_credentials}))}),f.click(function(c){c.preventDefault();var j=e.val();if(0===j.length)return void e.focus();e.prop("disabled",!0),f.prop("disabled",!0),a.ajax({url:b.root+b.namespace+"/users/"+b.user_id+"/passwords",method:"POST",beforeSend:function(a){a.setRequestHeader("X-WP-Nonce",b.nonce)},data:{name:j}}).done(function(a){e.prop("disabled",!1).val(""),f.prop("disabled",!1),d.after(k({name:j,password:a.password})),delete a.password,h.prepend(l(a)),g.show(),i.remove()})}),h.on("click",".delete",function(c){c.preventDefault();var d=a(c.target).closest("tr"),e=d.data("slug");a.ajax({url:b.root+b.namespace+"/users/"+b.user_id+"/passwords/"+e,method:"DELETE",beforeSend:function(a){a.setRequestHeader("X-WP-Nonce",b.nonce)}}).done(function(a){a.deleted&&(0===d.siblings().length&&g.hide(),d.remove())})}),j.on("click",function(d){d.preventDefault(),a.ajax({url:b.root+b.namespace+"/users/"+b.user_id+"/passwords",method:"DELETE",beforeSend:function(a){a.setRequestHeader("X-WP-Nonce",b.nonce)}}).done(function(a){a.deleted&&(h.children().remove(),c.children(".new-wpas-api-password").remove(),g.hide())})}),a(document).on("click",".wpas-api-password-modal-dismiss",function(b){b.preventDefault(),a(".new-wpas-api-password.notification-dialog-wrap").hide()}),0===h.children("tr").not(i).length&&g.hide()}(jQuery,wpasAPI);
//# sourceMappingURL=admin-dist.js.map